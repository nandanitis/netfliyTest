{"ast":null,"code":"import _regeneratorRuntime from\"C:/Coding/Web_Dev/MERN_STACK/imdbMovie/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Coding/Web_Dev/MERN_STACK/imdbMovie/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Coding/Web_Dev/MERN_STACK/imdbMovie/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import MovieForm from\"../components/movieform\";import Modal from\"../Modal/Modal\";import\"./movies.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tvshow=function Tvshow(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),tvshows=_useState2[0],settvshows=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];useEffect(function(){var fetchMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/tvshows\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;if(response.ok){settvshows(json);console.log(json);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovies(){return _ref.apply(this,arguments);};}();fetchMovies();},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"margin-Top\",children:/*#__PURE__*/_jsx(\"div\",{id:\"section\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"addMovie\",onClick:function onClick(){return setShow(true);},children:\"Add TV Show\"}),/*#__PURE__*/_jsx(Modal,{title:\"Add A New Movie\",onClose:function onClose(){return setShow(false);},show:show,children:/*#__PURE__*/_jsx(MovieForm,{onClose:function onClose(){return setShow(false);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"post\",children:tvshows&&tvshows.map(function(tvshow){return/*#__PURE__*/_jsx(\"div\",{className:\"postCards\",children:/*#__PURE__*/_jsx(\"a\",{href:\"article.html\",children:/*#__PURE__*/_jsxs(Link,{to:\"/api/tvshows/\".concat(tvshow._id),tvshow:tvshow,children:[/*#__PURE__*/_jsx(\"img\",{src:tvshow.posterUrl}),/*#__PURE__*/_jsx(\"h1\",{className:\"postTitle\",children:tvshow.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-infoo\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",tvshow.year,\" \"]}),\"||\",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",tvshow.runtime+\" Season\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{children:tvshow.genres.join(\", \")})]})]})})},tvshow._id);})})]})})})});};export default Tvshow;","map":{"version":3,"names":["React","useEffect","useState","Link","MovieForm","Modal","Tvshow","tvshows","settvshows","show","setShow","fetchMovies","fetch","response","json","ok","console","log","map","tvshow","_id","posterUrl","title","year","runtime","genres","join"],"sources":["C:/Coding/Web_Dev/MERN_STACK/imdbMovie/frontend/src/pages/Tvshows.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport MovieForm from \"../components/movieform\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport \"./movies.css\";\r\n\r\n\r\n\r\nconst Tvshow = () => {\r\n\r\n  const [tvshows,settvshows] = useState('');\r\n   const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      const response = await fetch(\"/api/tvshows\");\r\n      const json = await response.json();\r\n\r\n      if (response.ok) {\r\n        settvshows(json);\r\n        console.log(json);\r\n      }\r\n    };\r\n\r\n    fetchMovies();\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"container\">\r\n     <div className=\"margin-Top\">\r\n      <div id=\"section\">\r\n        <div id=\"content\">\r\n          <button className=\"addMovie\" onClick={() => setShow(true)}>\r\n            Add TV Show\r\n          </button>\r\n          <Modal title=\"Add A New Movie\" onClose={() => setShow(false)} show={show}>\r\n            <MovieForm onClose={() => setShow(false)} />\r\n          </Modal>\r\n\r\n          <div className=\"post\">\r\n            {/* post cards */}\r\n            {tvshows &&\r\n              tvshows.map((tvshow) => (\r\n                <div className=\"postCards\" key={tvshow._id}>\r\n                  <a href=\"article.html\">\r\n                    <Link to={`/api/tvshows/${tvshow._id}`} tvshow={tvshow}>\r\n                      <img src={tvshow.posterUrl} />\r\n                      <h1 className=\"postTitle\">{tvshow.title}</h1>\r\n                      <div className=\"movie-infoo\">\r\n                        <span> {tvshow.year} </span>||\r\n                        <span> {tvshow.runtime + \" Season\"} </span>\r\n                        <div>{tvshow.genres.join(\", \")}</div>\r\n                      </div>\r\n                    </Link>\r\n                  </a>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tvshow;\r\n"],"mappings":"+ZAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CACA,MAAO,cAAP,C,wFAIA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CAEnB,cAA6BJ,QAAQ,CAAC,EAAD,CAArC,wCAAOK,OAAP,eAAeC,UAAf,eACC,eAAwBN,QAAQ,CAAC,KAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eAEDT,SAAS,CAAC,UAAM,CACd,GAAMU,YAAW,4FAAG,6KACKC,MAAK,CAAC,cAAD,CADV,QACZC,QADY,qCAECA,SAAQ,CAACC,IAAT,EAFD,QAEZA,IAFY,eAIlB,GAAID,QAAQ,CAACE,EAAb,CAAiB,CACfP,UAAU,CAACM,IAAD,CAAV,CACAE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACD,CAPiB,sDAAH,kBAAXH,YAAW,0CAAjB,CAUAA,WAAW,GACZ,CAZQ,CAYN,EAZM,CAAT,CAgBA,mBACE,YAAK,EAAE,CAAC,WAAR,uBACC,YAAK,SAAS,CAAC,YAAf,uBACC,YAAK,EAAE,CAAC,SAAR,uBACE,aAAK,EAAE,CAAC,SAAR,wBACE,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAMD,QAAO,CAAC,IAAD,CAAb,EAAtC,yBADF,cAIE,KAAC,KAAD,EAAO,KAAK,CAAC,iBAAb,CAA+B,OAAO,CAAE,yBAAMA,QAAO,CAAC,KAAD,CAAb,EAAxC,CAA8D,IAAI,CAAED,IAApE,uBACE,KAAC,SAAD,EAAW,OAAO,CAAE,yBAAMC,QAAO,CAAC,KAAD,CAAb,EAApB,EADF,EAJF,cAQE,YAAK,SAAS,CAAC,MAAf,UAEGH,OAAO,EACNA,OAAO,CAACW,GAAR,CAAY,SAACC,MAAD,qBACV,YAAK,SAAS,CAAC,WAAf,uBACE,UAAG,IAAI,CAAC,cAAR,uBACE,MAAC,IAAD,EAAM,EAAE,wBAAkBA,MAAM,CAACC,GAAzB,CAAR,CAAwC,MAAM,CAAED,MAAhD,wBACE,YAAK,GAAG,CAAEA,MAAM,CAACE,SAAjB,EADF,cAEE,WAAI,SAAS,CAAC,WAAd,UAA2BF,MAAM,CAACG,KAAlC,EAFF,cAGE,aAAK,SAAS,CAAC,aAAf,wBACE,4BAAQH,MAAM,CAACI,IAAf,OADF,mBAEE,4BAAQJ,MAAM,CAACK,OAAP,CAAiB,SAAzB,OAFF,cAGE,qBAAML,MAAM,CAACM,MAAP,CAAcC,IAAd,CAAmB,IAAnB,CAAN,EAHF,GAHF,GADF,EADF,EAAgCP,MAAM,CAACC,GAAvC,CADU,EAAZ,CAHJ,EARF,GADF,EADD,EADD,EADF,CAoCD,CAzDD,CA2DA,cAAed,OAAf"},"metadata":{},"sourceType":"module"}