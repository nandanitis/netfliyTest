{"ast":null,"code":"var _jsxFileName = \"C:\\\\Coding\\\\Web_Dev\\\\MERN_STACK\\\\imdbMovie\\\\frontend\\\\src\\\\pages\\\\Movies.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useMoviesContext } from \"../hooks/useMoviesContext\";\nimport { Link } from \"react-router-dom\";\nimport MovieForm from \"../components/movieform\";\nimport ShowMovies from \"../components/ShowMovies\";\nimport Modal from \"../Modal/Modal\";\nimport \"./movies.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Movies = () => {\n  _s();\n\n  const {\n    movies,\n    dispatch\n  } = useMoviesContext();\n  const [show, setShow] = useState(false);\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const response = await fetch(\"/api/movies\");\n      const json = await response.json();\n\n      if (response.ok) {\n        dispatch({\n          type: \"SET_MOVIES\",\n          payload: json\n        });\n      }\n    };\n\n    fetchMovies();\n  }, []);\n\n  const handleDelete = async _id => {\n    const response = await fetch('/api/movies/' + _id, {\n      method: 'DELETE'\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      dispatch({\n        type: \"DELETE_MOVIE\",\n        payload: json\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"addMovie\",\n          onClick: () => setShow(true),\n          children: \"Add Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          title: \"Add A New Movie\",\n          onClose: () => setShow(false),\n          show: show,\n          children: /*#__PURE__*/_jsxDEV(MovieForm, {\n            onClose: () => setShow(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post\",\n          children: movies && movies.map(movie => /*#__PURE__*/_jsxDEV(ShowMovies, {\n            mo: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Movies, \"c7efYD88jJpg0I1JG0vEZzX2du8=\", false, function () {\n  return [useMoviesContext];\n});\n\n_c = Movies;\nexport default Movies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["React","useEffect","useState","useMoviesContext","Link","MovieForm","ShowMovies","Modal","Movies","movies","dispatch","show","setShow","fetchMovies","response","fetch","json","ok","type","payload","handleDelete","_id","method","map","movie"],"sources":["C:/Coding/Web_Dev/MERN_STACK/imdbMovie/frontend/src/pages/Movies.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useMoviesContext } from \"../hooks/useMoviesContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport MovieForm from \"../components/movieform\";\r\nimport ShowMovies from \"../components/ShowMovies\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport \"./movies.css\";\r\n\r\n\r\n\r\nconst Movies = () => {\r\n\r\n  const {movies, dispatch} = useMoviesContext()\r\n   const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      const response = await fetch(\"/api/movies\");\r\n      const json = await response.json();\r\n\r\n      if (response.ok) {\r\n        dispatch({type:\"SET_MOVIES\", payload:json})\r\n      }\r\n    };\r\n\r\n    fetchMovies();\r\n  }, []);\r\n\r\n  const handleDelete = async(_id) =>{\r\n    const response = await fetch('/api/movies/'+_id,{\r\n      method:'DELETE'\r\n    })\r\n    const json = await response.json()\r\n    if(response.ok){\r\n      dispatch({type:\"DELETE_MOVIE\", payload:json})\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"container\">\r\n      <div id=\"section\">\r\n        <div id=\"content\">\r\n          <button className=\"addMovie\" onClick={() => setShow(true)}>\r\n            Add Movie\r\n          </button>\r\n          <Modal title=\"Add A New Movie\" onClose={() => setShow(false)} show={show}>\r\n            <MovieForm onClose={() => setShow(false)} />\r\n          </Modal>\r\n\r\n          <div className=\"post\">\r\n            {/* post cards */}\r\n            {movies &&\r\n              movies.map((movie) => (\r\n                <ShowMovies mo />\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAO,cAAP;;;AAIA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EAEnB,MAAM;IAACC,MAAD;IAASC;EAAT,IAAqBP,gBAAgB,EAA3C;EACC,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,KAAD,CAAhC;EAEDD,SAAS,CAAC,MAAM;IACd,MAAMY,WAAW,GAAG,YAAY;MAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAD,CAA5B;MACA,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;;MAEA,IAAIF,QAAQ,CAACG,EAAb,EAAiB;QACfP,QAAQ,CAAC;UAACQ,IAAI,EAAC,YAAN;UAAoBC,OAAO,EAACH;QAA5B,CAAD,CAAR;MACD;IACF,CAPD;;IASAH,WAAW;EACZ,CAXQ,EAWN,EAXM,CAAT;;EAaA,MAAMO,YAAY,GAAG,MAAMC,GAAN,IAAa;IAChC,MAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAeM,GAAhB,EAAoB;MAC9CC,MAAM,EAAC;IADuC,CAApB,CAA5B;IAGA,MAAMN,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;;IACA,IAAGF,QAAQ,CAACG,EAAZ,EAAe;MACbP,QAAQ,CAAC;QAACQ,IAAI,EAAC,cAAN;QAAsBC,OAAO,EAACH;MAA9B,CAAD,CAAR;IACD;EACF,CARD;;EAUA,oBACE;IAAK,EAAE,EAAC,WAAR;IAAA,uBACE;MAAK,EAAE,EAAC,SAAR;MAAA,uBACE;QAAK,EAAE,EAAC,SAAR;QAAA,wBACE;UAAQ,SAAS,EAAC,UAAlB;UAA6B,OAAO,EAAE,MAAMJ,OAAO,CAAC,IAAD,CAAnD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,KAAD;UAAO,KAAK,EAAC,iBAAb;UAA+B,OAAO,EAAE,MAAMA,OAAO,CAAC,KAAD,CAArD;UAA8D,IAAI,EAAED,IAApE;UAAA,uBACE,QAAC,SAAD;YAAW,OAAO,EAAE,MAAMC,OAAO,CAAC,KAAD;UAAjC;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF,eAQE;UAAK,SAAS,EAAC,MAAf;UAAA,UAEGH,MAAM,IACLA,MAAM,CAACc,GAAP,CAAYC,KAAD,iBACT,QAAC,UAAD;YAAY,EAAE;UAAd;YAAA;YAAA;YAAA;UAAA,QADF;QAHJ;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CAlDD;;GAAMhB,M;UAEuBL,gB;;;KAFvBK,M;AAoDN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}